<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Inloggen - Investment Group Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="min-h-screen bg-slate-100 font-sans">
    <div class="min-h-screen flex items-center justify-center px-4">
        <div class="w-full max-w-lg bg-white rounded-[2rem] shadow-xl shadow-blue-600/5 border border-slate-100 p-8 space-y-8">
            <div class="space-y-3 text-center">
                <p class="text-xs uppercase tracking-[0.4em] text-slate-400">Account</p>
                <h1 class="text-3xl font-bold text-slate-900">Welkom terug</h1>
                <p class="text-sm text-slate-500">Gebruik je club-account om verder te bouwen aan je portefeuille.</p>
            </div>

            <div class="flex bg-slate-100 rounded-2xl p-1 text-sm font-semibold">
                <button type="button" class="toggle-button flex-1 rounded-xl py-2 active">Log in</button>
                <button id="register-toggle" type="button" class="toggle-button flex-1 rounded-xl py-2">Registreren</button>
            </div>

            {% if error %}
            <div class="text-sm text-rose-600 bg-rose-50 border border-rose-100 rounded-xl px-4 py-3">{{ error }}</div>
            {% endif %}

            <form method="post" action="{{ url_for('auth.login') }}" id="authForm" class="space-y-5">
                <div>
                    <label for="email" class="block text-xs uppercase tracking-[0.3em] text-slate-400 mb-2">Emailadres</label>
                    <input type="email" id="email" name="email" placeholder="you@example.com" required class="form-input w-full rounded-2xl border-slate-200 focus:border-blue-500 focus:ring-blue-500" value="{{ email_value|default('') }}">
                </div>

                <button type="submit" class="submit-button w-full py-3 rounded-2xl bg-blue-600 text-white font-semibold shadow-lg shadow-blue-600/30 hover:bg-blue-700 transition">
                    Log in
                </button>
            </form>

            
        </div>
    </div>

    <script>
        (() => {
            const btn = document.getElementById('register-toggle');
            if (!btn) return;
            btn.addEventListener('click', () => {
                const emailValue = document.getElementById('email').value || '';
                // AANGEPAST: Javascript URL generatie naar auth.register
                const target = `{{ url_for('auth.register') }}${emailValue ? `?email=${encodeURIComponent(emailValue)}` : ''}`;
                window.location.href = target;
            });
        })();
    </script>
</body>
</html>